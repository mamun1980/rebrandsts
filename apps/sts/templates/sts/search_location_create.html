{% extends "dashboard/base.html" %}
{% load static %}

{% block stylesheets %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=AIzaSyBxvgYm2-4gCaQxxkNMCz77jgJDVcM766M"></script>
{% endblock stylesheets %}

{% block content %}
<div class="py-4">
    <h2 class="mb-0">Add Search Location</h2>
</div>

<div class="col-12 col-xl-6">
    <div class="card border-0 shadow mb-4">
        <div class="card-body">
            <form method="POST" enctype="multipart/form-data">

                <!-- Security token -->
                {% csrf_token %}
                <input type='hidden' name='place_id' id="id_place_id">

                <!-- Using the formset -->
                {{ form.as_p }}

                <div class="d-flex align-items-center gap-2 justify-content-between">
                    <button type="button" class="btn btn-sm btn-outline-gray-200 d-inline-block align-items-center" onclick="goBack()">
                        Back
                    </button>
                    <button class="btn btn-gray-800 btn-sm" type="submit" value="Submit">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    // Go back button
    function goBack() {
        window.history.go(-1);
    }
</script>



<script>
    $(document).ready(function () {
        const input = document.getElementById("id_search_location");
        const options = {
            fields: ["address_components", "geometry", "icon", "name", "place_id"],
            strictBounds: false,
        };
        const autocomplete = new google.maps.places.Autocomplete(input, options);
    })
</script>

<script src="{% static 'js/location_search.js' %}"></script>
{% endblock content %}